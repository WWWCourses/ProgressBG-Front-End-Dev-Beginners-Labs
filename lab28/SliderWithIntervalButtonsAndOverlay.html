<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SliderWithIntervalAndClearing</title>
    <style>
        /*common page styling*/
        h1 {
            height: 5vh;
            margin-bottom: 1em;
            text-align: center;
            color: #666;
        }
        .clear:after {
            display: block;
            content: "";
            clear: both;
        }

        /* carousel styling */
        .carousel {
            position: relative;
            width: 20em;
        }
        .imgWrapper {
            position: relative;
            width: 100%;
            height: 15em;
            margin: 0.2em 0 0 0;
            border: 0.3em outset #666;
            box-sizing: border-box;
        }
        .imgWrapper img {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
        }

        .buttons {
            text-align: center;
        }

        /*carousel overlay styling*/
        .carousel .spinner_overlay {
            display: block;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #999;
            /*opacity: .3;*/
            z-index: 100;
        }
        .carousel .spinner_overlay p {
            font-size: 2em;
            color: #fff;
            text-align: center;
        }
        .carousel .spinner_overlay .fa-spinner {
            display: block;
            font-size: 5em;
            color: #fff;
        }
        .spinner_container {
            width: 5em;
            height: 5em;
            /*center it*/
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            /*border: 1px solid blue;*/
        }
    </style>
</head>
<body>
    <div class="carousel">
        <div class="spinner_overlay">
            <p>Loading image...</p>
            <div class="spinner_container">
                <i class="fa fa-spinner fa-spin"></i>
            </div>
        </div>
        <div class="buttons">
            <button class="prev">Prev</button>
            <button class="next">Next</button>
        </div>
        <div class="imgWrapper">
            <img src="http://imageshack.com/a/img922/3858/5Pd5dc.jpg" alt="">
            <img src="http://imageshack.com/a/img923/3776/lKVbAp.jpg" alt="">
            <img src="http://imageshack.com/a/img923/6770/WXkPF9.jpg" alt="">
            <img src="http://imageshack.com/a/img923/2200/SzDjvi.jpg" alt="">
            <img src="http://imageshack.com/a/img924/8715/tz0p3T.jpg" alt="">
        </div>
    </div>

    <script>
        function showOneElementOnly(imgs, i){
            // first hide all
            for(let i=0; i<imgs.length; i++){
                // imgs[i].style.display = "none";
                imgs[i].style.opacity = "0";

            }

            // now display the one you need
            // imgs[i].style.display = "block";
            let image = imgs[i];
            if(image.complete){
                image.style.opacity = "1";
                spinner_overlay.style.display = "none";
            }
        }

        function setNextElementIndex(arr,n){
            // here we set the global images index
            slidesIndex += n;

            if(slidesIndex === -1  || slidesIndex===undefined){
                slidesIndex = arr.length-1;
            }
            if(slidesIndex===arr.length){
                slidesIndex = 0;
            }
        }

        function showNextImage(event) {
            // if the function is called from addEventListener event will be a non empyt object.
            // but if the function is called from setInterval, event will be an undefind
            // sliderIntervalId will be set, only if the interval was started
            if( event && sliderIntervalId ){
                clearInterval(sliderIntervalId);
                sliderIntervalId = undefined;
            }
            showOneElementOnly(imgs,slidesIndex);
            setNextElementIndex(imgs, +1);
        }

        function showPrevImage() {
            // if the function is called from addEventListener event will be a non empyt object.
            // but if the function is called from setInterval, event will be an undefind
            // sliderIntervalId will be set, only if the interval was started
            if( event && sliderIntervalId ){
                clearInterval(sliderIntervalId);
                sliderIntervalId = undefined;
            }
            showOneElementOnly(imgs,slidesIndex);
            setNextElementIndex(imgs, -1);
        }

        function setTransitionEffect(imgs, time) {
            for (let i = 0; i < imgs.length; i++) {
                imgs[i].style.transition = time;
            }
        }

        let spinner_overlay = document.querySelector('.spinner_overlay');
        let imgs = document.querySelectorAll('.imgWrapper img');
        let btnNext = document.querySelector('.next');
        let btnPrev = document.querySelector('.prev');

        let slidesIndex = 0;
        spinner_overlay.style.display = "none";

        // start slide show:
        let sliderIntervalId = setInterval(showNextImage, 2000);
        setTransitionEffect(imgs, '2s');

        // or if we just want an image to be shown:
        // showNextImage();

        btnNext.addEventListener('click', showNextImage );
        btnPrev.addEventListener('click', showPrevImage );

    </script>
</body>
</html>